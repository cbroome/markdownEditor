!function(f){function h(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function m(){var a=require("util");return"Markdown.mk_block( "+a.inspect(this.toString())+", "+a.inspect(this.trailing)+", "+a.inspect(this.lineNumber)+" )"}function p(a){for(var b=0,c=-1;-1!==(c=a.indexOf("\n",c+1));)b++;return b}function s(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}
function D(a){if("string"==typeof a)return s(a);var b=a.shift(),c={},d=[];for(!a.length||"object"!=typeof a[0]||a[0]instanceof Array||(c=a.shift());a.length;)d.push(D(a.shift()));a="";for(var e in c)a+=" "+e+'="'+s(c[e])+'"';return"img"===b||"br"===b||"hr"===b?"<"+b+a+"/>":"<"+b+a+">"+d.join("")+"</"+b+">"}function F(a,b,c){var d;c=c||{};a=a.slice(0);"function"==typeof c.preprocessTreeNode&&(a=c.preprocessTreeNode(a,b));var e=n(a);if(e){a[1]={};for(d in e)a[1][d]=e[d];e=a[1]}if("string"==typeof a)return a;
switch(a[0]){case "header":a[0]="h"+a[1].level;delete a[1].level;break;case "bulletlist":a[0]="ul";break;case "numberlist":a[0]="ol";break;case "listitem":a[0]="li";break;case "para":a[0]="p";break;case "markdown":a[0]="html";e&&delete e.references;break;case "code_block":a[0]="pre";d=e?2:1;var l=["code"];l.push.apply(l,a.splice(d,a.length-d));a[d]=l;break;case "inlinecode":a[0]="code";break;case "img":a[1].src=a[1].href;delete a[1].href;break;case "linebreak":a[0]="br";break;case "link":a[0]="a";
break;case "link_ref":a[0]="a";d=b[e.ref];if(!d)return e.original;delete e.ref;e.href=d.href;d.title&&(e.title=d.title);delete e.original;break;case "img_ref":a[0]="img";d=b[e.ref];if(!d)return e.original;delete e.ref;e.src=d.href;d.title&&(e.title=d.title);delete e.original}if(d=1,e){for(var f in a[1]){d=2;break}1===d&&a.splice(d,1)}for(;d<a.length;++d)a[d]=F(a[d],b,c);return a}function G(a){for(var b=n(a)?2:1;b<a.length;)"string"==typeof a[b]?b+1<a.length&&"string"==typeof a[b+1]?a[b]+=a.splice(b+
1,1)[0]:++b:(G(a[b]),++b)}function x(a,b){function c(a){this.len_after=a;this.name="close_"+b}var d=a+"_state",e="strong"===a?"em_state":"strong_state";return function(l){if(this[d][0]===b)return this[d].shift(),[l.length,new c(l.length-b.length)];var f=this[e].slice(),h=this[d].slice();this[d].unshift(b);var B=this.processInline(l.substr(b.length)),g=B[B.length-1];return(this[d].shift(),g instanceof c)?(B.pop(),[l.length-g.len_after,[a].concat(B)]):(this[e]=f,this[d]=h,[b.length,b])}}var k,v,E,C;
k=function(a,b,c){1===arguments.length&&(b="\n\n");var d=new String(a);return d.trailing=b,d.inspect=m,d.toSource=h,void 0!==c&&(d.lineNumber=c),d};var w=v=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};E=Array.prototype.forEach?function(a,b,c){return a.forEach(b,c)}:function(a,b,c){for(var d=0;d<a.length;d++)b.call(c||a,a[d],d,a)};C=function(a){return w(a)&&1<a.length&&"object"==typeof a[1]&&!w(a[1])?a[1]:void 0};var g=function(a){switch(typeof a){case "undefined":this.dialect=
g.dialects.Gruber;break;case "object":this.dialect=a;break;default:if(!(a in g.dialects))throw Error("Unknown Markdown dialect '"+String(a)+"'");this.dialect=g.dialects[a]}this.em_state=[];this.strong_state=[];this.debug_indent=""};g.dialects={};var q=g.mk_block=k,w=v;g.parse=function(a,b){return(new g(b)).toTree(a)};g.prototype.split_blocks=function(a){a=a.replace(/(\r\n|\n|\r)/g,"\n");var b,c=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,d=[],e=1;for(null!==(b=/^(\s*\n)/.exec(a))&&(e+=p(b[0]),c.lastIndex=
b[0].length);null!==(b=c.exec(a));)"\n#"===b[2]&&(b[2]="\n",c.lastIndex--),d.push(q(b[1],b[2],e)),e+=p(b[0]);return d};g.prototype.processBlock=function(a,b){var c=this.dialect.block,d=c.__order__;if("__call__"in c)return c.__call__.call(this,a,b);for(var e=0;e<d.length;e++){var l=c[d[e]].call(this,a,b);if(l)return(!w(l)||0<l.length&&!w(l[0]))&&this.debug(d[e],"didn't return a proper array"),l}return[]};g.prototype.processInline=function(a){return this.dialect.inline.__call__.call(this,String(a))};
g.prototype.toTree=function(a,b){var c=a instanceof Array?a:this.split_blocks(a),d=this.tree;try{for(this.tree=b||this.tree||["markdown"];c.length;){var e=this.processBlock(c.shift(),c);e.length&&this.tree.push.apply(this.tree,e)}return this.tree}finally{b&&(this.tree=d)}};g.prototype.debug=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this.debug_indent);"undefined"!=typeof print&&print.apply(print,a);"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log.apply(null,
a)};g.prototype.loop_re_over_block=function(a,b,c){var d;for(b=b.valueOf();b.length&&null!==(d=a.exec(b));)b=b.substr(d[0].length),c.call(this,d);return b};g.buildBlockOrder=function(a){var b=[],c;for(c in a)"__order__"!==c&&"__call__"!==c&&b.push(c);a.__order__=b};g.buildInlinePatterns=function(a){var b=[],c;for(c in a)if(!c.match(/^__.*__$/)){var d=c.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");b.push(1===c.length?d:"(?:"+d+")")}b=b.join("|");a.__patterns__=b;var e=a.__call__;a.__call__=
function(a,c){return void 0!==c?e.call(this,a,c):e.call(this,a,b)}};var n=C;g.renderJsonML=function(a,b){b=b||{};b.root=b.root||!1;var c=[];if(b.root)c.push(D(a));else for(a.shift(),!a.length||"object"!=typeof a[0]||a[0]instanceof Array||a.shift();a.length;)c.push(D(a.shift()));return c.join("\n\n")};g.toHTMLTree=function(a,b,c){"string"==typeof a&&(a=this.parse(a,b));b=n(a);var d={};b&&b.references&&(d=b.references);a=F(a,d,c);return G(a),a};g.toHTML=function(a,b,c){a=this.toHTMLTree(a,b,c);return this.renderJsonML(a)};
v={inline_until_char:function(a,b){for(var c=0,d=[];;){if(a.charAt(c)===b)return c++,[c,d];if(c>=a.length)return null;var e=this.dialect.inline.__oneElement__.call(this,a.substr(c)),c=c+e[0];d.push.apply(d,e.slice(1))}},subclassDialect:function(a){function b(){}function c(){}return b.prototype=a.block,c.prototype=a.inline,{block:new b,inline:new c}}};var y=E,n=C,q=k,H=v.inline_until_char;k={block:{atxHeader:function(a,b){var c=a.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(c){var d=["header",{level:c[1].length}];
return Array.prototype.push.apply(d,this.processInline(c[2])),c[0].length<a.length&&b.unshift(q(a.substr(c[0].length),a.trailing,a.lineNumber+2)),[d]}},setextHeader:function(a,b){var c=a.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(c){var d=["header",{level:"="===c[2]?1:2},c[1]];return c[0].length<a.length&&b.unshift(q(a.substr(c[0].length),a.trailing,a.lineNumber+2)),[d]}},code:function(a,b){var c=[],d=/^(?: {0,3}\t| {4})(.*)\n?/;if(a.match(d)){a:for(;;){var e=this.loop_re_over_block(d,a.valueOf(),function(a){c.push(a[1])});
if(e.length){b.unshift(q(e,a.trailing));break a}if(!b.length)break a;if(!b[0].match(d))break a;c.push(a.trailing.replace(/[^\n]/g,"").substring(2));a=b.shift()}return[["code_block",c.join("\n")]]}},horizRule:function(a,b){var c=a.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(c){var d=[["hr"]];if(c[1]){var e=q(c[1],"",a.lineNumber);d.unshift.apply(d,this.toTree(e,[]))}return c[3]&&b.unshift(q(c[3],a.trailing,a.lineNumber+1)),d}},lists:function(){function a(a){return new RegExp("(?:^("+
g+"{0,"+a+"} {0,3})("+e+")\\s+)|(^"+g+"{0,"+(a-1)+"}[ ]{0,4})")}function b(a,b,c,d){if(b)return a.push(["para"].concat(c)),void 0;b=a[a.length-1]instanceof Array&&"para"===a[a.length-1][0]?a[a.length-1]:a;d&&1<a.length&&c.unshift(d);for(a=0;a<c.length;a++)d=c[a],"string"==typeof d&&1<b.length&&"string"==typeof b[b.length-1]?b[b.length-1]+=d:b.push(d)}function c(a,b){for(var c=new RegExp("^("+g+"{"+a+"}.*?\\n?)*$"),d=new RegExp("^"+g+"{"+a+"}","gm"),e=[];0<b.length&&c.exec(b[0]);){var l=b.shift(),
f=l.replace(d,"");e.push(q(f,l.trailing,l.lineNumber))}return e}function d(a,b,c){a=a.list;a=a[a.length-1];a[1]instanceof Array&&"para"===a[1][0]||(b+1===c.length?a.push(["para"].concat(a.splice(1,a.length-1))):(b=a.pop(),a.push(["para"].concat(a.splice(1,a.length-1)),b)))}var e="[*+-]|\\d+\\.",l=/[*+-]/,f=new RegExp("^( {0,3})("+e+")[ \t]+"),g="(?: {0,3}\\t| {4})";return function(e,g){function h(a){var b=l.exec(a[2])?["bulletlist"]:["numberlist"];return r.push({list:b,indent:a[1]}),b}var u=e.match(f);
if(u){for(var k,m,r=[],n=h(u),t=!1,q=[r[0].list];;){for(var s=e.split(/(?=\n)/),p="",z="",v=0;v<s.length;v++){var z="",w=s[v].replace(/^\n/,function(a){return z=a,""});m=a(r.length);if(u=w.match(m),void 0!==u[1]){p.length&&(b(k,t,this.processInline(p),z),t=!1,p="");u[1]=u[1].replace(/ {0,3}\t/g,"    ");var A=Math.floor(u[1].length/4)+1;if(A>r.length)n=h(u),k.push(n),k=n[1]=["listitem"];else{var x=!1;for(m=0;m<r.length;m++)if(r[m].indent===u[1]){n=r[m].list;r.splice(m+1,r.length-(m+1));x=!0;break}x||
(A++,A<=r.length?(r.splice(A,r.length-A),n=r[A-1].list):(n=h(u),k.push(n)));k=["listitem"];n.push(k)}z=""}w.length>u[0].length&&(p+=z+w.substr(u[0].length))}p.length&&(b(k,t,this.processInline(p),z),t=!1,p="");t=c(r.length,g);0<t.length&&(y(r,d,this),k.push.apply(k,this.toTree(t,[])));t=g[0]&&g[0].valueOf()||"";if(!t.match(f)&&!t.match(/^ /))break;e=g.shift();if(t=this.dialect.block.horizRule(e,g)){q.push.apply(q,t);break}y(r,d,this);t=!0}return q}}}(),blockquote:function(a,b){if(a.match(/^>/m)){var c=
[];if(">"!==a[0]){for(var d=a.split(/\n/),e=[],l=a.lineNumber;d.length&&">"!==d[0][0];)e.push(d.shift()),l++;e=q(e.join("\n"),"\n",a.lineNumber);c.push.apply(c,this.processBlock(e,[]));a=q(d.join("\n"),a.trailing,l)}for(;b.length&&">"===b[0][0];)d=b.shift(),a=q(a+a.trailing+d,d.trailing,a.lineNumber);d=a.replace(/^> ?/gm,"");d=(this.tree,this.toTree(d,["blockquote"]));if((l=n(d))&&l.references){delete l.references;var g;a:{for(g in l)if(hasOwnProperty.call(l,g)){g=!1;break a}g=!0}g&&d.splice(1,1)}return c.push(d),
c}},referenceDefn:function(a,b){var c=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(a.match(c)){n(this.tree)||this.tree.splice(1,0,{});var d=n(this.tree);void 0===d.references&&(d.references={});c=this.loop_re_over_block(c,a,function(a){a[2]&&"<"===a[2][0]&&">"===a[2][a[2].length-1]&&(a[2]=a[2].substring(1,a[2].length-1));var b=d.references[a[1].toLowerCase()]={href:a[2]};void 0!==a[4]?b.title=a[4]:void 0!==a[5]&&(b.title=a[5])});return c.length&&b.unshift(q(c,a.trailing)),[]}},
para:function(a){return[["para"].concat(this.processInline(a))]}},inline:{__oneElement__:function(a,b,c){var d,e;b=b||this.dialect.inline.__patterns__;return(d=(new RegExp("([\\s\\S]*?)("+(b.source||b)+")")).exec(a),d)?d[1]?[d[1].length,d[1]]:(d[2]in this.dialect.inline&&(e=this.dialect.inline[d[2]].call(this,a.substr(d.index),d,c||[])),e||[d[2].length,d[2]]):[a.length,a]},__call__:function(a,b){function c(a){"string"==typeof a&&"string"==typeof e[e.length-1]?e[e.length-1]+=a:e.push(a)}for(var d,
e=[];0<a.length;)d=this.dialect.inline.__oneElement__.call(this,a,b,e),a=a.substr(d.shift()),y(d,c);return e},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function(a){return this.dialect.inline.__escape__.exec(a)?[2,a.charAt(1)]:[1,"\\"]},"![":function(a){var b=a.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);return b?(b[2]&&"<"===b[2][0]&&">"===b[2][b[2].length-1]&&(b[2]=b[2].substring(1,b[2].length-1)),b[2]=this.dialect.inline.__call__.call(this,
b[2],/\\/)[0],a={alt:b[1],href:b[2]||""},void 0!==b[4]&&(a.title=b[4]),[b[0].length,["img",a]]):(b=a.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),b?[b[0].length,["img_ref",{alt:b[1],ref:b[2].toLowerCase(),original:b[0]}]]:[2,"!["])},"[":function(a){var b=String(a),c=H.call(this,a.substr(1),"]");if(!c)return[1,"["];var d,e,g=1+c[0],c=c[1];a=a.substr(g);var f=a.match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(f){a=f[1];if(g+=f[0].length,a&&"<"===a[0]&&">"===a[a.length-1]&&(a=a.substring(1,a.length-
1)),!f[3])for(var b=1,h=0;h<a.length;h++)switch(a[h]){case "(":b++;break;case ")":0===--b&&(g-=a.length-h,a=a.substring(0,h))}return a=this.dialect.inline.__call__.call(this,a,/\\/)[0],e={href:a||""},void 0!==f[3]&&(e.title=f[3]),d=["link",e].concat(c),[g,d]}return f=a.match(/^\s*\[(.*?)\]/),f?(g+=f[0].length,e={ref:(f[1]||String(c)).toLowerCase(),original:b.substr(0,g)},d=["link_ref",e].concat(c),[g,d]):1===c.length&&"string"==typeof c[0]?(e={ref:c[0].toLowerCase(),original:b.substr(0,g)},d=["link_ref",
e,c[0]],[g,d]):[1,"["]},"<":function(a){var b;return null!==(b=a.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?b[3]?[b[0].length,["link",{href:"mailto:"+b[3]},b[3]]]:"mailto"===b[2]?[b[0].length,["link",{href:b[1]},b[1].substr(7)]]:[b[0].length,["link",{href:b[1]},b[1]]]:[1,"<"]},"`":function(a){return(a=a.match(/(`+)(([\s\S]*?)\1)/))&&a[2]?[a[1].length+a[2].length,["inlinecode",a[3]]]:[1,"`"]},"  \n":function(){return[3,["linebreak"]]}}};k.inline["**"]=x("strong","**");k.inline.__=
x("strong","__");k.inline["*"]=x("em","*");k.inline._=x("em","_");g.dialects.Gruber=k;g.buildBlockOrder(g.dialects.Gruber.block);g.buildInlinePatterns(g.dialects.Gruber.inline);k=v.subclassDialect(k);n=C;y=E;k.processMetaHash=function(a){var b=a.split("");a=[""];for(var c=!1;b.length;){var d=b.shift();switch(d){case " ":c?a[a.length-1]+=d:a.push("");break;case "'":case '"':c=!c;break;case "\\":d=b.shift();default:a[a.length-1]+=d}}b={};for(c=0;c<a.length;++c)/^#/.test(a[c])?b.id=a[c].substring(1):
/^\./.test(a[c])?b["class"]=b["class"]?b["class"]+a[c].replace(/./," "):a[c].substring(1):/\=/.test(a[c])&&(d=a[c].split(/\=/),b[d[0]]=d[1]);return b};k.block.document_meta=function(a){if(!(1<a.lineNumber)&&a.match(/^(?:\w+:.*\n)*\w+:.*$/)){n(this.tree)||this.tree.splice(1,0,{});a=a.split(/\n/);for(var b in a){var c=a[b].match(/(\w+):\s*(.*)$/),d=c[1].toLowerCase();this.tree[1][d]=c[2]}return[]}};k.block.block_meta=function(a){var b=a.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(b){var c=
this.dialect.processMetaHash(b[2]);if(""===b[1]){b=this.tree[this.tree.length-1];if(a=n(b),"string"==typeof b)return;a||(a={},b.splice(1,0,a));for(var d in c)a[d]=c[d];return[]}a=a.replace(/\n.*$/,"");b=this.processBlock(a,[]);(a=n(b[0]))||(a={},b[0].splice(1,0,a));for(d in c)a[d]=c[d];return b}};k.block.definition_list=function(a,b){var c,d=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,e=["dl"];if(a.match(d)){for(var g=[a];b.length&&d.exec(b[0]);)g.push(b.shift());for(var f=0;f<g.length;++f){c=g[f].match(d);
var h=c[1].replace(/\n$/,"").split(/\n/),k=c[2].split(/\n:\s+/);for(c=0;c<h.length;++c)e.push(["dt",h[c]]);for(c=0;c<k.length;++c)e.push(["dd"].concat(this.processInline(k[c].replace(/(\n)\s+/,"$1"))))}return[e]}};k.block.table=function(a){var b,c,d=function(a,b){b=b||"\\s";b.match(/^[\\|\[\]{}?*.+^$]$/)&&(b="\\"+b);for(var c,d=[],e=new RegExp("^((?:\\\\.|[^\\\\"+b+"])*)"+b+"(.*)");c=a.match(e);)d.push(c[1]),a=c[2];return d.push(a),d},e=/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/;
if(c=a.match(/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/))c[3]=c[3].replace(/^\s*\|/gm,"");else if(!(c=a.match(e)))return;var g=["table",["thead",["tr"]],["tbody"]];c[2]=c[2].replace(/\|\s*$/,"").split("|");var f=[];y(c[2],function(a){a.match(/^\s*-+:\s*$/)?f.push({align:"right"}):a.match(/^\s*:-+\s*$/)?f.push({align:"left"}):a.match(/^\s*:-+:\s*$/)?f.push({align:"center"}):f.push({})});c[1]=d(c[1].replace(/\|\s*$/,""),"|");for(b=0;b<c[1].length;b++)g[1][1].push(["th",
f[b]||{}].concat(this.processInline(c[1][b].trim())));return y(c[3].replace(/\|\s*$/gm,"").split("\n"),function(a){var c=["tr"];a=d(a,"|");for(b=0;b<a.length;b++)c.push(["td",f[b]||{}].concat(this.processInline(a[b].trim())));g[2].push(c)},this),[g]};k.inline["{:"]=function(a,b,c){if(!c.length)return[2,"{:"];b=c[c.length-1];if("string"==typeof b)return[2,"{:"];a=a.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!a)return[2,"{:"];c=this.dialect.processMetaHash(a[1]);var d=n(b);d||(d={},b.splice(1,0,d));
for(var e in c)d[e]=c[e];return[a[0].length,""]};g.dialects.Maruku=k;g.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/;g.buildBlockOrder(g.dialects.Maruku.block);g.buildInlinePatterns(g.dialects.Maruku.inline);f.Markdown=g;f.parse=g.parse;f.toHTML=g.toHTML;f.toHTMLTree=g.toHTMLTree;f.renderJsonML=g.renderJsonML}(function(){return window.markdown={},window.markdown}());(function(f){"function"===typeof define&&define.amd?define(["jquery"],f):f(jQuery)})(function(f){f.fn.markdownEditor=function(h,m){return{init:f.proxy(f.fn.markdownEditor.init,this),getHTML:f.proxy(f.fn.markdownEditor.getHTML,this),getMarkdown:f.proxy(f.fn.markdownEditor.getMarkdown,this),setValue:f.proxy(f.fn.markdownEditor.setValue,this)}[h](m)};f.fn.markdownEditor.init=function(h){h=f(this);var m=new f.fn.markdownEditor.MarkdownEditor(h);m.render();h.data("markdownEditor",m);return this};f.fn.markdownEditor.getHTML=
function(){return f(this).data("markdownEditor").getHTML()};f.fn.markdownEditor.getMarkdown=function(){return f(this).data("markdownEditor").getMarkdown()};f.fn.markdownEditor.setValue=function(h){return f(this).data("markdownEditor").setValue(h)};f.fn.markdownEditor.MarkdownEditor=function(f){this.$el=f;this.initialize()};f.extend(f.fn.markdownEditor.MarkdownEditor.prototype,{$textarea:void 0,$preview:void 0,_updatePreview:function(){var h=this.$textarea.val(),m=/!!!UNIQUE_TOKEN!!!/,h=f("<div />").append(h),
p=[],s;h.first().contents().each(function(){1===this.nodeType&&(p.push(f(this).clone().wrap("<p>").parent().html()),f(this).replaceWith("!!!UNIQUE_TOKEN!!!"))});for(s=markdown.toHTML(h.html());p.length;)h=p.shift(),s=s.replace(m,h);this.$preview.html(s)},_createColumn:function(h){var m=f('<div class="md-column" />');h&&m.append(h);return m},_textareaBehavior:function(f){if(9===f.keyCode){var m=f.target.selectionStart,p=f.target.selectionEnd,s=this.$textarea.val();this.$textarea.val(s.substring(0,
m)+"\t"+s.substring(p));f.target.selectionStart=f.target.selectionEnd=m+1;f.preventDefault()}},initialize:function(){},render:function(){var h=f.proxy(this._updatePreview,this);this.$el.addClass("md-markdown-editor");this.$textarea=f("<textarea />");this.$preview=f('<div class="md-preview" />');this.$el.empty();this.$el.append(this._createColumn(this.$textarea)).append(this._createColumn(this.$preview));this.$textarea.on("input",h).on("keyup",h).on("keydown",h);this.$textarea.keydown(f.proxy(this._textareaBehavior,
this));return this},getMarkdown:function(){return this.$textarea.val()},getHTML:function(){return this.$preview.html()},setValue:function(f){this.$textarea.val(f);this._updatePreview();return this}})});
